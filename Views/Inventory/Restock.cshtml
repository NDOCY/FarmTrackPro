@model FarmTrack.Models.Inventory
@*
<h2>Restock Inventory Item</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.LabelFor(m => m.Quantity)
        <input type="number" name="quantity" class="form-control" min="1" />
    </div>

    <button type="submit" class="btn btn-primary">Restock</button>
}

<div class="container-fluid py-4">
    <div class="row">
        <!-- Restock Inventory Item Card -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h2 class="mb-0 fs-4">Restock Inventory Item</h2>
                </div>
                <div class="card-body">
                    @using (Html.BeginForm("Restock", "Inventory", FormMethod.Post, new { @class = "needs-validation", novalidate = "novalidate" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.HiddenFor(m => m.InventoryId)

                        <div class="row g-3">
                            <!-- Item Information (Read-only) -->
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label">Item Name</label>
                                    <input type="text" class="form-control" value="@Model.ItemName" readonly />
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Current Stock</label>
                                    <input type="text" class="form-control" value="@Model.Quantity" readonly />
                                </div>
                            </div>

                            <!-- Quantity Input -->
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="restockQuantity" class="form-label">Quantity to Add</label>
                                    <input type="number" id="restockQuantity" name="quantity" class="form-control"
                                           min="1" required placeholder="Enter amount" />
                                    <div class="invalid-feedback">
                                        Please enter a valid quantity (min: 1)
                                    </div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="col-12 d-flex justify-content-between align-items-center mt-3">
                                <a href="@Url.Action("Details", new { id = Model.InventoryId })" class="btn btn-secondary">
                                    <i class="bi bi-arrow-left"></i> Back
                                </a>
                                <button type="submit" class="btn btn-primary">
                                    <i class="bi bi-plus-circle"></i> Restock Item
                                </button>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
        </div>
    </div>
    *@



<style>
    /* Custom Color Scheme */
    :root {
        --color-earth: #8B7355; /* Primary */
        --color-soil: #654321; /* Secondary */
        --color-foliage: #4CAF50; /* Tertiary */
        --color-wheat: #F5DEB3; /* Accent */
        --color-danger: #FF6B6B; /* Error */
        --color-white: #FFFFFF; /* Neutral */
        --color-bib: #b17474; /* Neutral */
    }

    /* Page Header */
    .page-header {
        background-color: var(--color-wheat);
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
    }

    .page-header h2 {
        color: var(--color-soil);
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .page-header p.lead {
        color: var(--color-soil);
        opacity: 0.8;
        margin-bottom: 0;
    }

    /* Cards */
    .card {
        border: 1px solid var(--color-wheat);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .card-header {
        background-color: var(--color-earth);
        color: var(--color-soil);
        padding: 12px 20px;
        font-weight: 600;
    }

        .card-header.restock-header {
            background-color: var(--color-wheat);
        }

    .card-body {
        background-color: var(--color-white);
        padding: 20px;
    }

    /* Form Controls */
    .form-label {
        color: var(--color-soil);
        font-weight: 500;
    }

    .form-control {
        border: 1px solid var(--color-wheat);
        padding: 8px 12px;
        border-radius: 4px;
    }

    .form-control:focus {
        border-color: var(--color-earth);
        box-shadow: 0 0 0 0.2rem rgba(139, 115, 85, 0.25);
    }

    .form-control[readonly] {
        background-color: rgba(245, 222, 179, 0.1);
    }

    /* Buttons */
    .btn-primary {
        background-color: var(--color-earth);
        border-color: var(--color-earth);
        color: var(--color-white);
    }

    .btn-primary:hover {
        background-color: var(--color-soil);
        border-color: var(--color-soil);
    }

    .btn-secondary {
        background-color: var(--color-wheat);
        border-color: var(--color-wheat);
        color: var(--color-soil);
    }

        .btn-secondary:hover {
            background-color: #654321;
            border-color: #e5ceA3;
        }

    .btn-success {
        background-color: var(--color-wheat);
        border-color: var(--color-wheat);
        color: var(--color-soil);
    }

        .btn-success:hover {
            background-color: #654321;
            border-color: #e5ceA3;
        }

    /* Invalid Feedback */
    .invalid-feedback {
        color: var(--color-danger);
    } 
</style>

<!-- Page Header -->
<div class="page-header">
    <h2>Inventory Management</h2>
    <p class="lead">Track and manage your farm's inventory items</p>
</div>

<div class="container-fluid py-3">
    <div class="row">
        
        <!-- Restock Inventory Item Card -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header restock-header">
                    <h2 class="mb-0 fs-4">Restock Inventory Item</h2>
                </div>
                <div class="card-body">
                    @using (Html.BeginForm("Restock", "Inventory", FormMethod.Post, new { @class = "needs-validation", novalidate = "novalidate" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.HiddenFor(m => m.InventoryId)
                        
                        <div class="row g-3">
                            <!-- Item Information (Read-only) -->
                            <div class="col-12">
                                <div class="mb-3">
                                    <label class="form-label">Item Name</label>
                                    <input type="text" class="form-control" value="@Model.ItemName" readonly />
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Current Stock</label>
                                    <input type="text" class="form-control" value="@Model.Quantity" readonly />
                                </div>
                            </div>
                            
                            <!-- Quantity Input -->
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="restockQuantity" class="form-label">Quantity to Add</label>
                                    <input type="number" id="restockQuantity" name="quantity" class="form-control" 
                                           min="1" required placeholder="Enter amount" />
                                    <div class="invalid-feedback">
                                        Please enter a valid quantity (min: 1)
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="col-12 d-flex justify-content-between align-items-center mt-3">
                                <a href="@Url.Action("Details", new { id = Model.InventoryId })" class="btn btn-secondary">
                                    <i class="fas fa-arrow-left"></i> Back
                                </a>
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-plus-circle"></i> Restock Item
                                </button>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        // Bootstrap form validation script
        (function () {
            'use strict'
            var forms = document.querySelectorAll('.needs-validation')
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>
}